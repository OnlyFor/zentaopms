import{d as H,q as L,a5 as y,R as O,r as a,o as u,c as k,w as t,e as o,f as w,m as C,z as s,h as i,F as E,A as g,t as $,p as V,H as W,I as Y,a3 as z,y as j,a1 as J,aT as P,L as Q}from"./index.js";import{i as U}from"./icon-2882cef5.js";import{u as R,g as M,C as N}from"./useSync.hook-bdc41bfc.js";import{E as X}from"./index-66c95cfa.js";import"./tables_list-992ce806.js";import"./plugin-c59f5e51.js";const T=_=>(W("data-v-5029f102"),_=_(),Y(),_),Z=T(()=>s("br",null,null,-1)),ee=T(()=>s("br",null,null,-1)),ue=T(()=>s("th",{class:"header-cell"},[s("div",{class:"top"},"\u5168\u5C40\u7B5B\u9009\u5668\u540D\u79F0"),s("div",{class:"bottom"},"\u56FE/\u8868/\u5EA6\u91CF\u9879\u540D\u79F0")],-1)),te=["title"],oe=["title"],ne=H({__name:"GlobalFilterModal",props:{modelShow:{type:Boolean,required:!0},batchLink:{type:Boolean,required:!1,default:!1}},emits:["update:modelShow"],setup(_,{emit:l}){const{CloseIcon:f}=U.ionicons5,F=_,m=L(!1),r=R(),p=y(()=>r.getGlobalFilters),v=y(()=>p.value.map(d=>d.id));console.log(v);const b=y(()=>r.getComponentListWithFilters),B=F.batchLink?"\u6279\u91CF\u5173\u8054\u7B5B\u9009\u5668":"\u5173\u8054\u5168\u5C40\u7B5B\u9009\u5668";O(()=>F.modelShow,d=>{m.value=d});const A=l,S=()=>{A("update:modelShow",!1)};return(d,x)=>{const e=a("n-icon"),h=a("n-card"),D=a("n-table"),I=a("n-modal");return u(),k(I,{show:m.value,"onUpdate:show":x[0]||(x[0]=c=>m.value=c),"mask-closable":!0,onAfterLeave:S},{default:t(()=>[o(h,{style:{width:"800px"},title:w(B),bordered:!1,role:"dialog","aria-modal":"true"},{default:t(()=>[o(e,{size:"20",class:"go-cursor-pointer model-close",onClick:S},{default:t(()=>[o(w(f))]),_:1}),o(h,{bordered:!1,"content-style":"padding: 0 0 20px 0;"},{default:t(()=>[C(" 1. \u5173\u8054\u903B\u8F91\uFF1A\u5168\u5C40\u7B5B\u9009\u5668\u4E0E\u56FE\u8868/\u900F\u89C6\u8868/\u5EA6\u91CF\u9879\u7684\u7B5B\u9009\u5668\u53EF\u4EE5\u4E00\u5BF9\u4E00\u8FDB\u884C\u5173\u8054\uFF0C\u5173\u8054\u540E\u7684\u56FE\u8868/\u900F\u89C6\u8868/\u5EA6\u91CF\u9879\u7B5B\u9009\u5668\u7684\u9ED8\u8BA4\u503C\u5C06\u7EE7\u627F\u5168\u5C40\u7B5B\u9009\u5668\u7684\u9ED8\u8BA4\u503C\u3002"),Z,C(" 2. \u64CD\u4F5C\u903B\u8F91\uFF1A\u9009\u62E9\u56FE\u8868/\u900F\u89C6\u8868/\u5EA6\u91CF\u9879\u7B5B\u9009\u5668\u7684\u540D\u79F0\u76F4\u63A5\u5173\u8054\uFF1B\u6216\u8005\u901A\u8FC7\u9009\u62E9\u5168\u5C40\u7B5B\u9009\u5668\u7684\u5B57\u6BB5\uFF0C\u4E0E\u56FE\u8868/\u900F\u89C6\u8868/\u5EA6\u91CF\u9879\u7B5B\u9009\u5668\u7684\u5173\u8054\u5B57\u6BB5\u8FDB\u884C\u5173\u8054\u3002"),ee,C(" 3. \u5173\u8054\u64CD\u4F5C\u5C06\u81EA\u52A8\u4FDD\u5B58 ")]),_:1}),o(D,{class:"model-content",bordered:!1,"single-line":!1},{default:t(()=>[s("thead",null,[s("tr",null,[ue,(u(!0),i(E,null,g(p.value,(c,n)=>(u(),i("th",{class:"text-center text-overflow-hidden",key:n,title:c.option.name},$(c.option.name),9,te))),128))])]),s("tbody",null,[(u(!0),i(E,null,g(b.value,(c,n)=>{var G,q;return u(),i("tr",{key:n},[s("td",{class:"component-name",title:(G=c.option.title)==null?void 0:G.text},$((q=c.option.title)==null?void 0:q.text),9,oe),(u(!0),i(E,null,g(v.value,K=>(u(),i("td",{class:"text-center",key:K},"\u5F85\u8BBE\u7F6E"))),128))])}),128))])]),_:1})]),_:1},8,["title"])]),_:1},8,["show"])}}});var le=V(ne,[["__scopeId","data-v-5029f102"]]);const ae=H({__name:"index",setup(_){const l=L(!1),f=R(),F=y(()=>f.canLinkGlobalFilter());return(m,r)=>{const p=a("n-button"),v=a("n-tooltip"),b=a("n-space");return u(),i(E,null,[o(le,{modelShow:l.value,"onUpdate:modelShow":r[0]||(r[0]=B=>l.value=B),batchLink:!0},null,8,["modelShow"]),o(b,{class:"btnList"},{default:t(()=>[F.value?(u(),k(p,{key:0,onClick:r[1]||(r[1]=B=>l.value=!0),class:"btn"},{default:t(()=>[C("\u6279\u91CF\u5173\u8054\u7B5B\u9009\u5668")]),_:1})):(u(),k(v,{key:1},{trigger:t(()=>[o(p,{disabled:"",class:"btn",tag:"div"},{default:t(()=>[C("\u6279\u91CF\u5173\u8054\u7B5B\u9009\u5668")]),_:1})]),default:t(()=>[C(" \u6682\u65E0\u7B5B\u9009\u5668\u53EF\u5173\u8054 ")]),_:1}))]),_:1})],64)}}});var se=V(ae,[["__scopeId","data-v-37a69d80"]]);const re=H({__name:"index",setup(_){const l=R();y(()=>l.canLinkGlobalFilter());const{lockScale:f,scale:F}=z(l.getEditCanvas),{setItem:m}=M(),{getLayers:r}=z(M()),{LayersIcon:p}=U.ionicons5,v=L(100),b=e=>{m(e.key,!e.select)},B=e=>e.key===N.DETAILS?e.select?"":"primary":e.select?"primary":"",A=j([{key:N.LAYERS,select:r,title:"\u56FE\u5C42",icon:J(p)}]);let S=[{label:"200%",value:200},{label:"150%",value:150},{label:"100%",value:100},{label:"50%",value:50},{label:"\u81EA\u9002\u5E94",value:0}];const d=L(""),x=e=>{if(e===0){l.computedScale();return}l.setScale(e/100)};return P(()=>{const e=(F.value*100).toFixed(0);d.value=`${e}%`,v.value=parseInt(e)}),(e,h)=>{const D=a("n-button"),I=a("n-space"),c=a("n-select");return u(),i(E,null,[o(se),o(I,{class:"btnList"},{default:t(()=>[(u(!0),i(E,null,g(A,n=>(u(),k(D,{class:"btn",type:B(n),key:n.key,ghost:"",onClick:G=>b(n)},{icon:t(()=>[(u(),k(Q(n.icon)))]),default:t(()=>[s("span",null,$(n.title),1)]),_:2},1032,["type","onClick"]))),128))]),_:1}),o(X),o(c,{disabled:w(f),class:"scale-btn",value:d.value,"onUpdate:value":[h[0]||(h[0]=n=>d.value=n),x],size:"mini",options:w(S)},null,8,["disabled","value","options"])],64)}}});var me=V(re,[["__scopeId","data-v-63bdd28d"]]);export{me as default};
