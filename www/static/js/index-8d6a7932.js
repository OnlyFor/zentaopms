import{d as R,q as g,a5 as b,r as a,o as n,h as c,e as t,w as e,f as m,m as i,z as s,F as B,A as k,t as H,c as x,p as K,H as Y,I as j,a3 as z,y as J,a1 as P,aT as Q,L as X}from"./index.js";import{i as M}from"./icon-e9b1f356.js";import{u as O,g as q,C as N}from"./useSync.hook-494b0f86.js";import{E as Z}from"./index-9f5a4deb.js";import{g as U}from"./useItem.hook-fd6e4fc9.js";import"./tables_list-992ce806.js";import"./plugin-cb672dc9.js";const T=d=>(Y("data-v-6e1fff82"),d=d(),j(),d),ee=T(()=>s("br",null,null,-1)),ue=T(()=>s("br",null,null,-1)),te=T(()=>s("th",{class:"header-cell"},[s("div",{class:"top"},"\u5168\u5C40\u7B5B\u9009\u5668\u540D\u79F0"),s("div",{class:"bottom"},"\u56FE/\u8868/\u5EA6\u91CF\u9879\u540D\u79F0")],-1)),ne=["title"],le=["title"],oe=R({__name:"index",props:{batchLink:{type:Boolean,required:!1,default:!1}},setup(d){const{CloseIcon:_}=M.ionicons5,L=d,p=g(!1),v=g(!1),A=L.batchLink?"\u6279\u91CF\u5173\u8054\u7B5B\u9009\u5668":"\u5173\u8054\u5168\u5C40\u7B5B\u9009\u5668",C=O(),y=b(()=>C.getGlobalFilters),S=b(()=>y.value.map(F=>F.id)),w=b(()=>C.canLinkGlobalFilter()),D=b(()=>C.getComponentListWithFilters),I=()=>{p.value=!1};return(F,l)=>{const u=a("n-icon"),f=a("n-card"),E=a("n-button"),$=a("n-table"),h=a("n-modal"),r=a("n-tooltip"),V=a("n-space");return n(),c(B,null,[t(h,{show:p.value,"onUpdate:show":l[1]||(l[1]=o=>p.value=o),"mask-closable":!1},{default:e(()=>[t(f,{style:{width:"800px"},title:m(A),bordered:!1,role:"dialog","aria-modal":"true"},{default:e(()=>[t(u,{size:"20",class:"go-cursor-pointer model-close",onClick:I},{default:e(()=>[t(m(_))]),_:1}),t(f,{bordered:!1,"content-style":"padding: 0 0 20px 0;"},{default:e(()=>[i(" 1. \u5173\u8054\u903B\u8F91\uFF1A\u5168\u5C40\u7B5B\u9009\u5668\u4E0E\u56FE\u8868/\u900F\u89C6\u8868/\u5EA6\u91CF\u9879\u7684\u7B5B\u9009\u5668\u53EF\u4EE5\u4E00\u5BF9\u4E00\u8FDB\u884C\u5173\u8054\uFF0C\u5173\u8054\u540E\u7684\u56FE\u8868/\u900F\u89C6\u8868/\u5EA6\u91CF\u9879\u7B5B\u9009\u5668\u7684\u9ED8\u8BA4\u503C\u5C06\u7EE7\u627F\u5168\u5C40\u7B5B\u9009\u5668\u7684\u9ED8\u8BA4\u503C\u3002"),ee,i(" 2. \u64CD\u4F5C\u903B\u8F91\uFF1A\u9009\u62E9\u56FE\u8868/\u900F\u89C6\u8868/\u5EA6\u91CF\u9879\u7B5B\u9009\u5668\u7684\u540D\u79F0\u76F4\u63A5\u5173\u8054\uFF1B\u6216\u8005\u901A\u8FC7\u9009\u62E9\u5168\u5C40\u7B5B\u9009\u5668\u7684\u5B57\u6BB5\uFF0C\u4E0E\u56FE\u8868/\u900F\u89C6\u8868/\u5EA6\u91CF\u9879\u7B5B\u9009\u5668\u7684\u5173\u8054\u5B57\u6BB5\u8FDB\u884C\u5173\u8054\u3002"),ue,i(" 3. \u5173\u8054\u64CD\u4F5C\u5C06\u81EA\u52A8\u4FDD\u5B58 ")]),_:1}),t($,{class:"model-content",bordered:!1,"single-line":!1},{default:e(()=>[s("thead",null,[s("tr",null,[te,(n(!0),c(B,null,k(y.value,(o,G)=>(n(),c("th",{class:"text-center text-overflow-hidden",key:G,title:o.option.name},H(o.option.name),9,ne))),128))])]),s("tbody",null,[(n(!0),c(B,null,k(D.value,(o,G)=>(n(),c("tr",{key:G},[s("td",{class:"component-name",title:m(U)(o)},H(m(U)(o)),9,le),(n(!0),c(B,null,k(S.value,W=>(n(),c("td",{class:"text-center",key:W},[t(E,{quaternary:"",onClick:l[0]||(l[0]=re=>v.value=!0)},{default:e(()=>[i(" \u5F85\u8BBE\u7F6E ")]),_:1})]))),128))]))),128))])]),_:1})]),_:1},8,["title"])]),_:1},8,["show"]),t(h,{show:v.value,"onUpdate:show":l[2]||(l[2]=o=>v.value=o)},{default:e(()=>[t(f,{style:{width:"600px"},title:"\u6A21\u6001\u6846",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":e(()=>[i(" \u5662\uFF01 ")]),_:1})]),_:1},8,["show"]),t(V,{class:"btnList"},{default:e(()=>[w.value?(n(),x(E,{key:0,onClick:l[3]||(l[3]=o=>p.value=!0),class:"btn"},{default:e(()=>[i("\u6279\u91CF\u5173\u8054\u7B5B\u9009\u5668")]),_:1})):(n(),x(r,{key:1},{trigger:e(()=>[t(E,{disabled:"",class:"btn",tag:"div"},{default:e(()=>[i("\u6279\u91CF\u5173\u8054\u7B5B\u9009\u5668")]),_:1})]),default:e(()=>[i(" \u6682\u65E0\u7B5B\u9009\u5668\u53EF\u5173\u8054 ")]),_:1}))]),_:1})],64)}}});var ae=K(oe,[["__scopeId","data-v-6e1fff82"]]);const se=R({__name:"index",setup(d){const _=O();b(()=>_.canLinkGlobalFilter());const{lockScale:L,scale:p}=z(_.getEditCanvas),{setItem:v}=q(),{getLayers:A}=z(q()),{LayersIcon:C}=M.ionicons5,y=g(100),S=u=>{v(u.key,!u.select)},w=u=>u.key===N.DETAILS?u.select?"":"primary":u.select?"primary":"",D=J([{key:N.LAYERS,select:A,title:"\u56FE\u5C42",icon:P(C)}]);let I=[{label:"200%",value:200},{label:"150%",value:150},{label:"100%",value:100},{label:"50%",value:50},{label:"\u81EA\u9002\u5E94",value:0}];const F=g(""),l=u=>{if(u===0){_.computedScale();return}_.setScale(u/100)};return Q(()=>{const u=(p.value*100).toFixed(0);F.value=`${u}%`,y.value=parseInt(u)}),(u,f)=>{const E=a("n-button"),$=a("n-space"),h=a("n-select");return n(),c(B,null,[t(ae),t($,{class:"btnList"},{default:e(()=>[(n(!0),c(B,null,k(D,r=>(n(),x(E,{class:"btn",type:w(r),key:r.key,ghost:"",onClick:V=>S(r)},{icon:e(()=>[(n(),x(X(r.icon)))]),default:e(()=>[s("span",null,H(r.title),1)]),_:2},1032,["type","onClick"]))),128))]),_:1}),t(Z),t(h,{disabled:m(L),class:"scale-btn",value:F.value,"onUpdate:value":[f[0]||(f[0]=r=>F.value=r),l],size:"mini",options:m(I)},null,8,["disabled","value","options"])],64)}}});var me=K(se,[["__scopeId","data-v-63bdd28d"]]);export{me as default};
